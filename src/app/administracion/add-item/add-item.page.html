<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-button (click)="dismiss()">Cancelar</ion-button>
    </ion-buttons>    
    <ion-buttons slot="end">
      <ion-button type="submit" form="addProductForm" fill="clear" expand="full">
        Agregar
      </ion-button>
    </ion-buttons>  
  </ion-toolbar>
</ion-header>


<ion-content [fullscreen]="false">
  <ion-card>
    <ion-card-header class="ion-text-center" color="primary">Formulario Productos</ion-card-header>
  <form id="addProductForm" (ngSubmit)="agregarProducto()">

    <ion-item>
      <ion-label>Seleccionar Vendedor</ion-label>
      <ion-select [(ngModel)]="seller" name="seller" required #sellerCtrl="ngModel" >
        <ion-select-option value=1> Vendedor 1</ion-select-option> <!--esto hay que conectarlo a la base de datos  --> 
      </ion-select>
    </ion-item>
    <div *ngIf="sellerCtrl.invalid && (sellerCtrl.dirty || sellerCtrl.touched)" class="error-message">
      Vendedor es obligatorio.
    </div>     

    <ion-item>
      <ion-label position="floating">Nombre Producto</ion-label>
      <ion-input type="text" [(ngModel)]="productName" name="productName" required minlength="3" required #productCtrl="ngModel"></ion-input>
    </ion-item>
    <div *ngIf="productCtrl.invalid && (productCtrl.dirty || productCtrl.touched)" class="error-message">
      El nombre del Producto es obligatorio y debe tener al menos 3 caracteres y un maximo de 40.
    </div>

    <ion-item>
      <ion-label position="floating">Descripción Producto</ion-label>
      <ion-input type="text" [(ngModel)]="descProduct" name="descProduct" required minlength="10" required #descProductCtrl="ngModel"></ion-input>
    </ion-item>
    <div *ngIf="descProductCtrl.invalid && (descProductCtrl.dirty || descProductCtrl.touched)" class="error-message">
      La descripción del Producto es opcional, debe tener al menos 10 caracteres y un maximo de 255.
    </div>

    <ion-item>
      <ion-label position="floating">Precio Producto</ion-label>
      <ion-input type="number" [(ngModel)]="productPrice" name="productPrice" required #productPriceCtrl="ngModel"></ion-input>
    </ion-item>
    <div *ngIf="productPriceCtrl.invalid && (productPriceCtrl.dirty || productPriceCtrl.touched)" class="error-message">
      El Precio del producto es obligatorio y deben ser numeros enteros positivos.
    </div>

    <ion-item>
      <ion-label position="floating">Stock/Existencias del Producto</ion-label>
      <ion-input type="number" [(ngModel)]="stock" name="stock" required #stockCtrl="ngModel"></ion-input>
    </ion-item>
    <div *ngIf="stockCtrl.invalid && (stockCtrl.dirty || stockCtrl.touched)" class="error-message">
      El Stock/Existencias del Producto es obligatorio y debe ser un número entero o cero.
    </div>  

    <ion-item>
      <ion-label>El Producto es orgánico</ion-label>
      <ion-checkbox [(ngModel)]="isOrganic" name="isOrganic"></ion-checkbox>
    </ion-item>
    

      <!--La imagen queda pendiente, por temas tecnicos -->
    <ion-item>
      <ion-label>Foto del Producto</ion-label>
      <ion-button (click)="takePhoto()">Tomar/Seleccionar Foto</ion-button>
    </ion-item>
    <ion-img [src]="photo" *ngIf="photo"></ion-img> 

    <ion-item>
      <ion-label>Seleccionar Categoría</ion-label>
      <ion-select [(ngModel)]="category" name="category" required #categoryCtrl="ngModel" >
        <ion-select-option value=1>Ejemplo 1</ion-select-option>
      </ion-select>
    </ion-item>
    <div *ngIf="categoryCtrl.invalid && (categoryCtrl.dirty || categoryCtrl.touched)" class="error-message">
      La Categoría es obligatoria.
    </div>      

    <ion-item>
      <ion-label>Seleccionar SubCategoría</ion-label>
      <ion-select [(ngModel)]="subCategory" name="subCategory" required #subCategoryCtrl="ngModel" >
        <ion-select-option value=1>Ejemplo 1</ion-select-option>
      </ion-select>
    </ion-item>
    <div *ngIf="subCategoryCtrl.invalid && (subCategoryCtrl.dirty || subCategoryCtrl.touched)" class="error-message">
      La SubCategoría es obligatoria.
    </div>      


  </form>
</ion-card>
</ion-content>